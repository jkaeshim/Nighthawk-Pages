<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Movie Search by Actor</title>
</head>
<body>
    <h1>Movie Search by Actor</h1>
    
    <!-- Move the dropdown menu for genres below the actor name -->
    <input type="text" id="actorName" placeholder="Enter Actor's Name">
    <br> <!-- Add a line break for spacing -->
    <label for="genre">Select Genre:</label>
    <select id="genre">
        <option value="28">Action</option>
        <option value="35">Comedy</option>
        <option value="18">Drama</option>
        <option value="27">Horror</option> <!-- Add Horror genre -->
        <option value="99">Documentary</option> <!-- Add Documentary genre -->
        <!-- Add more genres as needed with their corresponding genre IDs -->
    </select>
    
    <button onclick="searchMovies()">Search</button>
    <button onclick="getRandomMovie()">Give me a random movie please</button>

    <h2>Results:</h2>
    <ul id="movieList"></ul>

    <script>
        function searchMovies() {
            // Existing searchMovies function
            // ...
        }

        function getRandomMovie() {
            const movieList = document.getElementById("movieList");
            movieList.innerHTML = ""; // Clear previous results

            // Use a random actor name and genre
            const actorNames = ["Tom Hanks", "Meryl Streep", "Brad Pitt", "Angelina Jolie", "Leonardo DiCaprio"];
            const genres = ["28", "35", "18", "27", "99"]; // Corresponding genre IDs

            const randomActorName = actorNames[Math.floor(Math.random() * actorNames.length)];
            const randomGenre = genres[Math.floor(Math.random() * genres.length)];

            // Fetch a random movie
            const apiKey = "bd74380ad0f3a6bc2db537543036493a";
            const apiUrl = `https://api.themoviedb.org/3/search/person?api_key=${apiKey}&query=${randomActorName}`;

            fetch(apiUrl)
                .then(response => response.json())
                .then(data => {
                    const actorId = data.results[0]?.id;
                    if (actorId) {
                        const movieUrl = `https://api.themoviedb.org/3/person/${actorId}/movie_credits?api_key=${apiKey}`;

                        return fetch(movieUrl);
                    } else {
                        throw new Error("Actor not found.");
                    }
                })
                .then(response => response.json())
                .then(data => {
                    const randomMovie = data.cast[Math.floor(Math.random() * data.cast.length)];
                    const movieTitle = randomMovie.title;
                    const movieYear = randomMovie.release_date ? randomMovie.release_date.split("-")[0] : "N/A";
                    const movieRating = randomMovie.vote_average; // Get movie rating

                    const listItem = document.createElement("li");
                    listItem.textContent = `${movieTitle} (${movieYear}) - Rating: ${movieRating}/10`; // Append movie title, year, and rating
                    movieList.appendChild(listItem);
                })
                .catch(error => {
                    console.error("Error:", error);
                });
        }
    </script>
</body>
</html>
